package ar.edu.itba.cep.evaluations_service.messages_sender;

import com.bellotapps.webapps_commons.exceptions.NoSuchEntityException;

import java.util.List;

/**
 * A port into the application that allows receiving commands results from an executor service
 * after requesting an execution from it.
 */
public interface ExecutorServiceCommandResultHandler {

    /**
     * Processes the execution of the solution with the given {@code solutionId}
     * when being evaluated with the test case with the given {@code testCaseId}.
     * Processes is performed by checking the execution's exit code,
     * the standard outputs and the standard error outputs.
     *
     * @param solutionId The id of the referenced solution.
     * @param testCaseId The id of the referenced test case.
     * @param exitCode   The execution's exit code.
     * @param stdOut     The standard output generated by the execution.
     * @param stdErr     The standard error output generated by the execution.
     * @throws NoSuchEntityException    If there is no solution with the given {@code solutionId},
     *                                  or if there is no test case with the given {@code testCaseId}.
     * @throws IllegalArgumentException If any argument is not valid.
     */
    void processExecution(final long solutionId, final long testCaseId,
                          final int exitCode, final List<String> stdOut, final List<String> stdErr)
            throws NoSuchEntityException, IllegalArgumentException;
}
